<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>자기소개 작성</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <style>
        html,
        body {
            display: flex;
            flex-direction: column;
            flex: 1;
            width: 100%;
            height: 100%;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
    <script type="module" src="../js/firebase_init.js"></script>
    <script type="module">
        import { createDoc } from "../js/firebase_func.js";

        $('#savebtn').click(async function () {
            let name = $('#name').val();
            let mbti = $('#mbti').val();
            let personality = $('#personality').val();
            let goal = $('#goal').val();
            let reason = $('#reason').val();
            let address = $('#address').val();
            let photo = $('#photo').val();
            let oneWord = $('#oneWord').val();

            try {
                const docRef = await createDoc("persons", {
                    'name': name,
                    'mbti': mbti,
                    'personality': personality,
                    'goal': goal,
                    'reason': reason,
                    'address': address,
                    'photo': photo,
                    'oneWord': oneWord
                });

                alert('저장 완료!');
                location.href = 'index.html';
            } catch (e) {
                console.error("Error adding document: ", e);
            }
        })

        $('#header').load("header.html");
    </script>
</head>

<body>
    <div id="header" class="bg-neutral-100"></div>

    <div
        class="flex flex-col justify-center items-center self-stretch flex-grow-0 flex-shrink-0 h-[100%] gap-8 bg-neutral-100">
        <div class="flex flex-col justify-start items-center flex-grow-0 flex-shrink-0 relative gap-2">
            <p class="self-stretch flex-grow-0 flex-shrink-0 text-7xl font-bold text-center text-[#2c2c2c]">
                자기소개하기
            </p>
            <p class="self-stretch flex-grow-0 flex-shrink-0 w-[387px] text-[32px] text-center text-[#2c2c2c]">
                나에 대하여 적어주세요.
            </p>
        </div>
        <div
            class="flex flex-col justify-start items-start flex-grow-0 flex-shrink-0 h-[auto] w-[900px] gap-6 p-6 rounded-lg bg-white border border-[#d9d9d9]">
            <div>
                <p>
                    이름
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" minlength="1" class="flex-grow w-[820px] text-base text-left" id="name"
                        placeholder="">
                </div>
            </div>
            <div>
                <p>
                    MBTI
                </p>
                <div>
                    <select class="form-select" id="mbti">
                        <option selected>mbti선택</option>
                        <option value="ISTJ">ISTJ</option>
                        <option value="ISTP">ISTP</option>
                        <option value="ISFJ">ISFJ</option>
                        <option value="ISFP">ISFP</option>
                        <option value="INTJ">INTJ</option>
                        <option value="INTP">INTP</option>
                        <option value="INFJ">INFJ</option>
                        <option value="INFP">INFP</option>
                        <option value="ESTJ">ESTJ</option>
                        <option value="ESTP">ESTP</option>
                        <option value="ESFJ">ESFJ</option>
                        <option value="ESFP">ESFP</option>
                        <option value="ENTJ">ENTJ</option>
                        <option value="ENTP">ENTP</option>
                        <option value="ENFJ">ENFJ</option>
                        <option value="ENFP">ENFP</option>
                    </select>
                </div>
            </div>
            <div class="">
                <p>
                    나의 성격
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="personality" placeholder="">
                </div>
            </div>
            <div>
                <p>
                    나의 목표
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="goal" placeholder="">
                </div>
            </div>
            <div>
                <p>
                    강의에 참여한 이유 및 강의에서 얻어가고 싶은 것
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="reason" placeholder="">
                </div>
            </div>
            <div>
                <p>
                    github 또는 블로그 주소
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="address" placeholder="">
                </div>
            </div>
            <div>
                <p>
                    사진
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="photo" placeholder="">
                </div>
            </div>
            <div>
                <p>
                    나의 한마디
                </p>
                <div class="border border-[#d9d9d9]">
                    <input type="text" class="flex-grow w-[820px] text-base text-left" id="oneWord" placeholder="">
                </div>
            </div>
            <div class="flex justify-start items-center self-stretch flex-grow-0 flex-shrink-0 gap-4">
                <div
                    class="flex justify-center items-center flex-grow relative overflow-hidden gap-2 p-3 rounded-lg bg-[#2c2c2c] border border-[#2c2c2c]">
                    <button id="savebtn" class="flex-grow-0 flex-shrink-0 text-base text-left text-neutral-100"
                        type="submit">Submit</button>
                </div>
            </div>
        </div>
    </div>
</body>

</html>